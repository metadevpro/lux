<div *ngIf="currency && currency === 'USD'" class="prefix symbol">
  <span>$</span>
</div>
<div
  *ngIf="type !== 'textarea'"
>
  <input
    #input
    class="infix masked patterned"
    placement="top"
    [id]="inputId"
    [type]="domain"
    [attr.value]="value"
    [attr.aria-label]="ariaLabel"
    [attr.disabled]="disabled === true ? 'true' : undefined"
    [attr.readonly]="readonly === true ? 'true' : undefined"
    [attr.min]="min?.toString() || undefined"
    [attr.max]="max?.toString() || undefined"
    [attr.step]="step?.toString() || undefined"
    [attr.pattern]="pattern || undefined"
    [placeholder]="placeholder"
    [ngClass]="className"
    (keyup)="onKeyUp(input.value)"
    (change)="onChangeValue(input.value)"
    (keypress)="onKeyPress($event)"
    (blur)="onLostFocus()"
  />
  <input
    #inputMask
    class="infix mask patterned"
    [id]="inputId + '$mask'"
    readonly="true"
  />
</div>
<div
  *ngIf="type === 'textarea'"
>
  <textarea
    #textarea
    class="infix masked patterned"
    placement="top"
    [id]="inputId"
    [attr.value]="value"
    [attr.aria-label]="ariaLabel"
    [attr.disabled]="disabled === true ? 'true' : undefined"
    [attr.readonly]="readonly === true ? 'true' : undefined"
    [attr.cols]="cols?.toString() || undefined"
    [attr.rows]="rows?.toString() || undefined"
    [placeholder]="placeholder"
    [ngClass]="className"
    (keyup)="onKeyUp(textarea.value)"
    (change)="onChangeValue(textarea.value)"
    (keypress)="onKeyPress($event)"
    (blur)="onLostFocus()"
  ></textarea>
  <textarea
    #textareaMask
    class="infix mask patterned"
    [id]="inputId + '$mask'"
    readonly="true"
    [attr.cols]="cols?.toString() || undefined"
    [attr.rows]="rows?.toString() || undefined"
  ></textarea>
</div>
<div *ngIf="currency && currency === 'EUR'" class="postfix symbol">
  <span>€</span>
</div>
<div *ngIf="isPercentage()" class="postfix symbol">
  <span>%</span>
</div>
<div *ngIf="isPermillage()" class="postfix symbol">
  <span>‰</span>
</div>

<div *ngIf="inlineErrors && lastErrors && (dirty || touched)" class="alert">
  <div *ngIf="lastErrors.required">
    {{ userErrors[this.lang].required }}
  </div>
  <div *ngIf="lastErrors.email">{{ userErrors[this.lang].email }}</div>
  <div *ngIf="lastErrors.min">
    {{ userErrors[this.lang].min.replace('$min', lastErrors.min.min) }}
  </div>
  <div *ngIf="lastErrors.max">
    {{ userErrors[this.lang].max.replace('$max', lastErrors.max.max) }}
  </div>
</div>
